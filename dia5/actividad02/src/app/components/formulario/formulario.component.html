<div class="container">

    <div *ngIf="check">
        <img width="250" height="150" src={{url}} class="mt-3">
    </div>

    <div *ngIf="!check">
        <img width="250" height="150"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/600px-No_image_available.svg.png">
    </div>

    <button type="submit" class="btn btn-secondary ml-3 mt-3 mb-3" (click)="borrarLocalstore()">Borrar localstore</button>

    <div *ngIf="alert">
        <div class="alert alert-success" role="alert">
            Tus datos se han guardado correctamente!!
        </div>
    </div>
   
    <form [formGroup]="form">
        <h3>Datos de contacto</h3>

        <div class="form-group mb-2">
            <label>Nombre:</label>
            <input type="text" id="nombre" class="form-control" placeholder="Nombre" formControlName="nombre" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.nombre.dirty || f.nombre.touched)">
                <p *ngIf="f.nombre.errors.required" class="text-danger"> Nombre es obligatorio.</p>
            </div>
        </div>

        <div class="form-group mb-2">
            <label>Apellidos 1:</label>
            <input type="text" id="apellidos1" class="form-control" placeholder="Primer Apellido"
                formControlName="apellidos1" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.apellidos1.dirty || f.apellidos1.touched)">
                <p *ngIf="f.nombre.errors.required" class="text-danger"> Apellido1 es obligatorio.</p>
            </div>
        </div>
        <div class="form-group mb-2">
            <label>Apellidos 2:</label>
            <input type="text" id="apellidos2" class="form-control" placeholder="Segundo Apellido"
                formControlName="apellidos2" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.apellidos2.dirty || f.apellidos2.touched)">
                <p *ngIf="f.apellidos2.errors.required" class="text-danger"> Apellidos2 es obligatorio.</p>
            </div>
        </div>

        <div class="form-group mb-2">
            <label>Telefono:</label>
            <input type="text" id="telefono" class="form-control" placeholder="Teléfono" formControlName="telefono" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.telefono.dirty || f.telefono.touched)">
                <p *ngIf="f.telefono.errors.required" class="error-validate"> Telefono es obligatorio.</p>
                <p *ngIf="f.telefono.errors.minlength" class="text-danger"> Mínimo de digitiso es 9.</p>
            </div>
        </div>
        <div class="form-group mb-2">
            <label>Email:</label>
            <input type="text" id="email" class="form-control" placeholder="Email" formControlName="email" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.email.dirty || f.email.touched)">
                <p *ngIf="f.email.errors.required" class="error-validate"> Email es obligatorio.</p>
                <p *ngIf="f.email.errors.email" class="text-danger"> Correo no existente.</p>
            </div>
        </div>
        <div class="form-group mb-2">
            <label>Detalles:</label>
            <textarea type="text" class="form-control" placeholder="Detalles" formControlName="detalle"></textarea>
        </div>

        <h3>Dirección</h3>

        <div class="form-group mb-2">
            <label>Calle:</label>
            <input type="text" id="calle" class="form-control" placeholder="Calle" formControlName="calle" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.calle.dirty || f.calle.touched)">
                <p *ngIf="f.calle.errors.required"  class="text-danger"> La calle es obligatoria.</p>
            </div>
        </div>

        <div class="form-group mb-2">
            <label>Número</label>
            <input type="number" id="numero" class="form-control" placeholder="Número" formControlName="numero" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.numero.dirty || f.numero.touched)">
                <p *ngIf="f.numero.errors.required"  class="text-danger"> Número es obligatorio.</p>
            </div>
        </div>
        <div class="form-group mb-2">
            <label>Puerta</label>
            <input type="text" id="puerta" class="form-control" placeholder="puerta" formControlName="puerta" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.puerta.dirty || f.puerta.touched)">
                <p *ngIf="f.puerta.errors.required"  class="text-danger"> Puerta es obligatorio.</p>
            </div>
        </div>
        <div class="form-group mb-2">
            <label>Código Postal</label>
            <input type="text" id="cp" class="form-control" placeholder="Código Postal" formControlName="cp" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.cp.dirty || f.cp.touched)">
                <p *ngIf="f.cp.errors.required"  class="text-danger"> Código postal es obligatorio.</p>
            </div>
        </div>

        <div class="form-group mb-2">
            <label>Municipio </label>
            <input type="text" id="municipio" class="form-control" placeholder="Municipio"
                formControlName="municipio" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.municipio.dirty || f.municipio.touched)">
                <p *ngIf="f.municipio.errors.required"  class="text-danger"> Municipio es obligatorio.</p>
            </div>
        </div>

        <div class="form-group mb-2">
            <label>Provincia </label>
            <input type="text" id="provincia" class="form-control" placeholder="Provincia"
                formControlName="provincia" />
            <div class="input-group-append form-control-feedback" *ngIf="(f.provincia.dirty || f.provincia.touched)">
                <p *ngIf="f.provincia.errors.required"  class="text-danger"> provincia es obligatorio.</p>
            </div>
        </div>
    </form>

    <div class="form-group mb-2">
        <button type="submit" class="btn btn-primary" (click)="onSubmit()" [disabled]="!form.valid">Guardar</button>
        <button type="submit" class="btn btn-secondary ml-3" (click)="limpiar()">Limpiar</button>
    </div>

</div>